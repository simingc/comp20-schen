<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8" />
    <title>Captain's Log</title>
    <link rel = "stylesheet" href = "style.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script>
        var time = new Date();
        $(document).ready(function(){
            $('#msg').keypress(function(e){
                var key = e.which;
                if (key == 13){
                    reload();
                    var current_time = time.getDate() + " " + time.getMonth() + " " + time.getFullYear();
                    var message = $("#msg").val();
                    var a_thing = "<li>" + time + " - " + message + "</li>";
                    localStorage[new Date().getTime()] = a_thing;
                   $("#log").prepend(a_thing);
                }
            });
        });

        function reload(){
            elem = document.getElementById("log");
            var output = ' ' ;
                    
            for (var i = localStorage.length - 1; i > 0; i--){
                output = output + localStorage.getItem(localStorage.key(i));
            }
            
            elem.innerHTML = output;
            
        }

    </script>
</head>

<body>
    <h1>Captain's Log</h1>
    <h3>New entry: <input type="text" id="msg" name="msg" size="30" /></h3>
    <div id="log"></div>
</body>
</html>